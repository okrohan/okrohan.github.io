!function(t){function e(e){for(var o,n,a=e[0],l=e[1],c=e[2],h=0,u=[];h<a.length;h++)n=a[h],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(S&&S(e);u.length;)u.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=i[0]))}return t}var o={},r={0:0},s=[];function n(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var S=l;s.push([551,1]),i()}({119:function(t,e,i){"use strict";var o,r;Object.defineProperty(e,"__esModule",{value:!0}),e.GAME_HEIGHT=600,e.PLAYER={MAX_VELOCITY:500,ANGULAR_ACC:500,ACCELERATION:500,VELOCITY_Y:-800},e.ASSET_WIDTH={TINY:150,SMALL:300,MEDIUM:450,LARGE:600,OOH_BOI:900},e.ASSETS_NAMES={GROUND:{GROUND:"ground",TINY:"ground_tiny",SMALL:"ground_small",MEDIUM:"ground_medium",LARGE:"ground_large",OOH_BOI:"ground_ohh_boi"},PLAYER:"player",SPIKE:"spike",SHIBA:"shiba",STAR:"star",CLOUD:"cloud",FLAG:"flag"},e.ASSET_WIDTH_MAPPING={GROUND:(o={},o[e.ASSETS_NAMES.GROUND.TINY]=e.ASSET_WIDTH.TINY,o[e.ASSETS_NAMES.GROUND.SMALL]=e.ASSET_WIDTH.SMALL,o[e.ASSETS_NAMES.GROUND.MEDIUM]=e.ASSET_WIDTH.MEDIUM,o[e.ASSETS_NAMES.GROUND.LARGE]=e.ASSET_WIDTH.LARGE,o[e.ASSETS_NAMES.GROUND.OOH_BOI]=e.ASSET_WIDTH.OOH_BOI,o)},e.ASSET_SCALE_MAPPING=((r={})[e.ASSETS_NAMES.GROUND.GROUND]=1,r[e.ASSETS_NAMES.GROUND.TINY]=.2,r[e.ASSETS_NAMES.GROUND.SMALL]=.2,r[e.ASSETS_NAMES.GROUND.MEDIUM]=.2,r[e.ASSETS_NAMES.GROUND.LARGE]=.2,r[e.ASSETS_NAMES.GROUND.OOH_BOI]=.2,r[e.ASSETS_NAMES.PLAYER]=.25,r[e.ASSETS_NAMES.SHIBA]=.5,r[e.ASSETS_NAMES.STAR]=.15,r[e.ASSETS_NAMES.SPIKE]=.2,r[e.ASSETS_NAMES.CLOUD]=.3,r[e.ASSETS_NAMES.FLAG]=.2,r)},1469:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(119),n=i(1470),a={active:!0,visible:!0,key:"GameScene"},l=function(t){function e(){var e=t.call(this,a)||this;return e.handleWorldCollision=function(){e.player.body.blocked.down&&e.handleDeath()},e.handleDeath=function(){e.gameState={},e.cameras.main.shake(300,.05,!0,(function(t,i){e.initGameState(),e.sound.stopAll(),1===i&&e.scene.restart()}))},e.handleCollect=function(t,i){e.gameState.currentScore+=1,e.gameState.scoreText.setText(e.getScoreText()),i.destroy()},e.handleGroundCollide=function(){e.gameState.playerOnGround=0},e.initGameState(),e}return r(e,t),e.prototype.initGameState=function(){this.gameState={gameStarted:!1,playerOnGround:0,currentScore:0,timeText:null,livesText:null}},e.prototype.preload=function(){var t=this,e=this.add.graphics(),i=this.add.text(window.innerWidth/2,290,"").setFontSize(32).setFill("white");this.load.on("progress",(function(t){e.clear(),e.fillStyle(16777215,1),e.fillRect(0,270,window.innerWidth*t,60),t>.5&&i.setFill("black"),i.setText(parseInt(100*t)+"%")})),this.load.on("complete",(function(){e.destroy(),i.destroy()})),this.levelLayout=n.getLevel(),Object.keys(s.ASSETS_NAMES).forEach((function(e){return t.load.image(e.toLowerCase(),"assets/"+e.toLowerCase()+".png")})),Object.values(s.ASSETS_NAMES.GROUND).forEach((function(e){s.ASSET_WIDTH_MAPPING.GROUND[e]&&t.load.spritesheet(e,"assets/"+s.ASSETS_NAMES.GROUND.GROUND+".png",{frameWidth:s.ASSET_WIDTH_MAPPING.GROUND[e]})})),this.load.audio("background_music","assets/background_music.mp3")},e.prototype.createPlayer=function(){this.player=this.physics.add.sprite(this.levelLayout.playerStart.x,this.levelLayout.playerStart.y,s.ASSETS_NAMES.PLAYER,null).setScale(s.ASSET_SCALE_MAPPING[s.ASSETS_NAMES.PLAYER]),this.player.setCollideWorldBounds(!0),this.player.setBounce(1,.4),this.player.setMaxVelocity(250)},e.prototype.createLevel=function(){for(var t=this,e=this.physics.add.staticGroup(),i=this.physics.add.staticGroup(),o=0;o<30;o++){var r=Phaser.Math.RND.between(400,this.levelLayout.width),n=Phaser.Math.RND.between(50,400);i.create(r,n,s.ASSETS_NAMES.CLOUD).setScale(s.ASSET_SCALE_MAPPING[s.ASSETS_NAMES.CLOUD])}i.setAlpha(.3).setDepth(0).setBlendMode(0),this.levelLayout.platforms.forEach((function(t){var i=t.x,o=t.y,r=t.key;e.create(i,o,r).setScale(s.ASSET_SCALE_MAPPING[r]||1).refreshBody()})),this.levelLayout.tiles.forEach((function(i){var o=i.x,r=i.x2,n=i.y,a=i.height,l=void 0===a?150:a;return e.add(t.add.tileSprite(o,n,r-o,l,s.ASSETS_NAMES.GROUND.GROUND))})),this.collectables=this.levelLayout.collectables.map((function(e){var i=e.key,o=e.x,r=e.y;return t.physics.add.sprite(o,r,i).setScale(s.ASSET_SCALE_MAPPING[i]||1).setCollideWorldBounds(!0)})),this.enemies=this.levelLayout.enemies.map((function(e){var i=e.key,o=e.x,r=e.y;return t.physics.add.sprite(o,r,i).setScale(s.ASSET_SCALE_MAPPING[i]||1)}));var a=this.levelLayout.finish;this.finish=this.physics.add.sprite(a.x,a.y,s.ASSETS_NAMES.FLAG).setScale(.35),this.enemies.push(this.finish),this.platforms=e,this.physics.add.collider(this.enemies,this.platforms),this.physics.add.collider(this.collectables,this.platforms),this.physics.add.collider(this.enemies,this.collectables),this.physics.add.collider(i,i,(function(t){return t.destroy()}))},e.prototype.initPlayerInteractors=function(){var t=this,e=[this.add.text(50,50,"BOiNK!",{fontSize:72,fontStyle:"bold",stroke:"black",strokeThickness:5,fill:"white"}),this.add.text(50,130,"Controls: ⬅[Left]  ➡[Right]  ⬆[Up]  ⬇[Down]",{fontSize:24,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}),this.add.text(50,160,"Press 'Space' to Start ",{fontSize:24,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"})];this.player.body.onWorldBounds=!0,this.physics.world.on("worldbounds",this.handleWorldCollision),this.physics.add.collider(this.player,this.platforms,this.handleGroundCollide),this.physics.add.collider(this.player,this.enemies,this.handleDeath),this.physics.add.overlap(this.player,this.collectables,this.handleCollect),this.cameras.main.startFollow(this.player,!0,1,1),this.cursors.space.addListener("up",(function(){console.log("starting game"),t.gameState.gameStarted=new Date,e.forEach((function(t){return t.destroy()})),t.gameState.timeText=t.add.text(window.innerWidth-100,50,t.getTimeText(),{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),t.gameState.livesText=t.add.text(window.innerWidth-100,20,"❤ 3",{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),t.gameState.scoreText=t.add.text(20,20,t.getScoreText(),{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),t.sound.play("background_music",{loop:!0,volume:.5}),t.cursors.space.removeListener("up")}))},e.prototype.create=function(){this.cameras.main.setBounds(0,0,this.levelLayout.width,this.scale.height),this.physics.world.setBounds(0,0,this.levelLayout.width,this.scale.height),this.cursors=this.input.keyboard.createCursorKeys(),this.createLevel(),this.createPlayer(),this.initPlayerInteractors(),this.input.mouse.onMouseOver()},e.prototype.getTimeText=function(){var t=n.getLevel().time-new Date(new Date-this.gameState.gameStarted).getSeconds();return parseInt(t/60)+":"+t%60},e.prototype.getScoreText=function(){return"Score : "+(this.gameState.currentScore||0)+"/"+this.collectables.length},e.prototype.handleMovement=function(){var t=this.cursors;t.up.isDown&&!this.gameState.playerOnGround&&(this.player.setVelocityY(s.PLAYER.VELOCITY_Y),this.gameState.playerOnGround=1),t.up.isDown&&this.gameState.playerOnGround<2&&this.player.body.velocity.y>0&&(this.player.setVelocityY(s.PLAYER.VELOCITY_Y),this.gameState.playerOnGround=2),t.left.isDown?(this.player.setAccelerationX(-s.PLAYER.ACCELERATION),this.player.setAngularVelocity(-s.PLAYER.ANGULAR_ACC)):t.right.isDown?(this.player.setAccelerationX(s.PLAYER.ACCELERATION),this.player.setAngularVelocity(s.PLAYER.ANGULAR_ACC)):this.gameState.playerOnGround?this.player.setAccelerationX(0):(this.player.setVelocityX(0),this.player.setAccelerationX(0),this.player.setAngularVelocity(0))},e.prototype.update=function(){this.gameState.gameStarted&&(this.handleMovement(),this.gameState.timeText.setText(this.getTimeText()))},e}(Phaser.Scene);e.GameScene=l},1470:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1471),r=i(1472);e.getLevel=function(){var t=JSON.parse(JSON.stringify(o.default));return r.invertYs(t),t}},1471:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(119),r=o.ASSETS_NAMES.GROUND;e.default={width:5e3,height:768,time:300,minScore:1,playerStart:{x:50,y:250},finish:{x:1900,y:600},platforms:[{x:1200,y:500,key:r.SMALL},{x:900,y:300,key:r.TINY},{x:1200,y:500,key:r.OOH_BOI},{x:1500,y:300,key:r.OOH_BOI}],tiles:[{x:0,x2:1500,y:50,key:r.GROUND},{x:1800,x2:3e3,y:50,key:r.GROUND}],enemies:[{x:300,y:300,key:o.ASSETS_NAMES.SHIBA},{x:1500,y:300,key:o.ASSETS_NAMES.SPIKE}],collectables:[{x:500,y:500,key:o.ASSETS_NAMES.STAR},{x:1300,y:600,key:o.ASSETS_NAMES.STAR}]}},1472:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(119);e.getInvertedY=function(t){return o.GAME_HEIGHT-t},e.invertYs=function(t){t.y&&(t.y=e.getInvertedY(t.y)),"object"==typeof t&&Object.values(t).forEach((function(t){return e.invertYs(t)}))}},1473:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(1474),a=i(119),l={active:!0,visible:!0,key:"GameEditorScene"},c={height:600,width:1024,playerStart:{x:200,y:200,key:a.ASSETS_NAMES.PLAYER},finish:{x:600,y:200,key:a.ASSETS_NAMES.FLAG}},S=[a.ASSETS_NAMES.GROUND.TINY,a.ASSETS_NAMES.GROUND.SMALL,a.ASSETS_NAMES.GROUND.MEDIUM,a.ASSETS_NAMES.GROUND.LARGE,a.ASSETS_NAMES.GROUND.OOH_BOI,a.ASSETS_NAMES.SHIBA,a.ASSETS_NAMES.SPIKE,a.ASSETS_NAMES.STAR],h=[a.ASSETS_NAMES.PLAYER,a.ASSETS_NAMES.FLAG],u=function(t){function e(){var e=t.call(this,l)||this;return e.handleAddNewSprite=function(){var t=e.createSprite({x:e.input.mousePointer.worldX,y:e.input.mousePointer.worldY,key:S[e.editorState.activeOption]});e.updateSpriteSelection(t)},e.levelLayout=s({},c),e.editorState={activeOption:0,activeCursor:Phaser.GameObjects.Sprite},e.sprites=[],e}return r(e,t),e.prototype.refreshAlphas=function(){var t=this;this.sprites.forEach((function(e){e===t.editorState.activeCursor?e.setAlpha(1):e.setAlpha(.5)}))},e.prototype.updateOptionSelection=function(t){S[this.editorState.activeOption+t]&&(this.editorState.activeOption+=t),this.selectionText.setText("Click to Add: "+S[this.editorState.activeOption]).setFontSize(16)},e.prototype.updateSpriteSelection=function(t){t===this.editorState.activeCursor?(this.editorState.activeCursor=null,this.cameras.main.stopFollow()):(this.editorState.activeCursor=t,t&&this.cameras.main.startFollow(t,!1,1,1,200,200)),this.refreshAlphas()},e.prototype.createSprite=function(t,e){var i=this,o=t.x,r=t.y,s=t.key;if(void 0===e&&(e=!1),!h.includes(s)||e){var n=this.add.sprite(o,r,s).setScale(a.ASSET_SCALE_MAPPING[s]||1).setInteractive();return n.on("pointerdown",(function(){return i.updateSpriteSelection(n)})),this.sprites.push(n),n}},e.prototype.create=function(){var e=this;t.prototype.create.call(this),this.selectionText=this.add.text(window.innerWidth/2-150,555,"").setDepth(1e3).setScrollFactor(0).setInteractive().on("pointerdown",this.handleAddNewSprite).setBackgroundColor("black"),this.add.text(window.innerWidth/2-170,555,"<").setDepth(1500).setScrollFactor(0).setInteractive().on("pointerdown",(function(){return e.updateOptionSelection(-1)})).setBackgroundColor("black"),this.add.text(window.innerWidth/2+120,555,">").setDepth(1500).setScrollFactor(0).setInteractive().on("pointerdown",(function(){return e.updateOptionSelection(1)})).setBackgroundColor("black"),this.updateOptionSelection(0),this.createSprite(this.levelLayout.playerStart,!0),this.createSprite(this.levelLayout.finish,!0),this.updateSpriteSelection(null),this.input.mouse.enabled=!0},e.prototype.update=function(){this.editorState.activeCursor&&this.editorState.activeCursor.setX(this.input.mousePointer.worldX).setY(this.input.mousePointer.worldY),this.editorState.activeCursor&&this.physics.world.bounds.width<this.input.mousePointer.worldX+10&&(console.log("expanding"),this.physics.world.setBounds(0,0,this.physics.world.bounds.width+100,this.physics.world.bounds.height),this.cameras.main.setBounds(0,0,this.physics.world.bounds.width+100,this.physics.world.bounds.height))},e}(n.AbstractScene);e.GameEditorScene=u},1474:function(t,e,i){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(119),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.preload=function(){var t=this,e=this.add.graphics(),i=this.add.text(window.innerWidth/2,290,"").setFontSize(32).setFill("white");this.load.on("progress",(function(t){e.clear(),e.fillStyle(16777215,1),e.fillRect(0,270,window.innerWidth*t,60),t>.5&&i.setFill("black"),i.setText(parseInt(100*t)+"%")})),this.load.on("complete",(function(){e.destroy(),i.destroy()})),Object.keys(s.ASSETS_NAMES).forEach((function(e){return t.load.image(e.toLowerCase(),"assets/"+e.toLowerCase()+".png")})),Object.values(s.ASSETS_NAMES.GROUND).forEach((function(e){s.ASSET_WIDTH_MAPPING.GROUND[e]&&t.load.spritesheet(e,"assets/"+s.ASSETS_NAMES.GROUND.GROUND+".png",{frameWidth:s.ASSET_WIDTH_MAPPING.GROUND[e]})})),this.load.audio("background_music","assets/background_music.mp3")},e.prototype.create=function(){var t=this.levelLayout;this.cameras.main.setBounds(0,0,t.width,t.height),this.physics.world.setBounds(0,0,t.width,t.height),this.cursors=this.input.keyboard.createCursorKeys()},e}(Phaser.Scene);e.AbstractScene=n},551:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(265),r=i(1469),s=i(1473),n={title:"Sample",type:o.AUTO,scene:location.href.includes("editor")?s.GameEditorScene:r.GameScene,scale:{mode:o.Scale.FIT,parent:"content",autoCenter:o.Scale.CENTER_BOTH,width:window.innerWidth,height:600},physics:{default:"arcade",arcade:{debug:location.href.includes("debug"),gravity:{y:300}}},parent:"game",backgroundColor:"#7dd7fb"};e.game=new o.Game(n)}});