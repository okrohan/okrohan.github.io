!function(e){function t(t){for(var i,n,a=t[0],l=t[1],S=t[2],h=0,d=[];h<a.length;h++)n=a[h],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);d.length;)d.shift()();return s.push.apply(s,S||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,a=1;a<r.length;a++){var l=r[a];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}var i={},o={0:0},s=[];function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var S=0;S<a.length;S++)t(a[S]);var c=l;s.push([551,1]),r()}({1469:function(e,t,r){"use strict";var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(264),n=r(1470),a={active:!0,visible:!0,key:"GameScene"},l=function(e){function t(){var t=e.call(this,a)||this;return t.handleWorldCollision=function(){t.player.body.blocked.down&&t.handleDeath()},t.handleCollectableWorldCollision=function(e){var r=t.collectables.find((function(t){return t===e}));r&&r.destroy()},t.handleDeath=function(){t.gameState={},t.cameras.main.shake(300,.05,!0,(function(e,r){t.initGameState(),t.sound.stopAll(),1===r&&t.scene.restart()}))},t.handleCollect=function(e,r){t.gameState.currentScore+=1,t.gameState.scoreText.setText(t.getScoreText()),r.destroy()},t.handleGroundCollide=function(){t.gameState.playerOnGround=0},t.initGameState(),t}return o(t,e),t.prototype.initGameState=function(){this.gameState={gameStarted:!1,playerOnGround:0,currentScore:0,timeText:null,livesText:null}},t.prototype.preload=function(){var e=this,t=this.add.graphics(),r=this.add.text(window.innerWidth/2,290,"").setFontSize(32).setFill("white");this.load.on("progress",(function(e){t.clear(),t.fillStyle(16777215,1),t.fillRect(0,270,window.innerWidth*e,60),e>.5&&r.setFill("black"),r.setText(parseInt(100*e)+"%")})),this.load.on("complete",(function(){t.destroy(),r.destroy()})),this.levelLayout=n.getLevel(),Object.keys(s.ASSETS_NAMES).forEach((function(t){return e.load.image(t.toLowerCase(),"assets/"+t.toLowerCase()+".png")})),Object.values(s.ASSETS_NAMES.GROUND).forEach((function(t){s.ASSET_WIDTH_MAPPING.GROUND[t]&&e.load.spritesheet(t,"assets/"+s.ASSETS_NAMES.GROUND.GROUND+".png",{frameWidth:s.ASSET_WIDTH_MAPPING.GROUND[t]})})),this.load.audio("background_music","assets/background_music.mp3")},t.prototype.createPlayer=function(){this.player=this.physics.add.sprite(this.levelLayout.playerStart.x,this.levelLayout.playerStart.y,s.ASSETS_NAMES.PLAYER,null).setScale(s.ASSET_SCALE_MAPPING[s.ASSETS_NAMES.PLAYER]),this.player.setCollideWorldBounds(!0),this.player.setBounce(1,.4),this.player.setMaxVelocity(250)},t.prototype.createLevel=function(){for(var e=this,t=this.physics.add.staticGroup(),r=this.physics.add.staticGroup(),i=0;i<30;i++){var o=Phaser.Math.RND.between(400,this.levelLayout.width),n=Phaser.Math.RND.between(50,400);r.create(o,n,s.ASSETS_NAMES.CLOUD).setScale(s.ASSET_SCALE_MAPPING[s.ASSETS_NAMES.CLOUD])}r.setAlpha(.3).setDepth(0).setBlendMode(0),this.levelLayout.platforms.forEach((function(e){var r=e.x,i=e.y,o=e.key;t.create(r,i,o).setScale(s.ASSET_SCALE_MAPPING[o]||1).refreshBody()})),this.levelLayout.tiles.forEach((function(r){var i=r.x,o=r.x2,n=r.y,a=r.height,l=void 0===a?150:a;return t.add(e.add.tileSprite(i,n,o-i,l,s.ASSETS_NAMES.GROUND.GROUND))})),this.collectables=this.levelLayout.collectables.map((function(t){var r=t.key,i=t.x,o=t.y;return e.physics.add.sprite(i,o,r).setScale(s.ASSET_SCALE_MAPPING[r]||1).setCollideWorldBounds(!0)})),this.enemies=this.levelLayout.enemies.map((function(t){var r=t.key,i=t.x,o=t.y;return e.physics.add.sprite(i,o,r).setScale(s.ASSET_SCALE_MAPPING[r]||1)}));var a=this.levelLayout.finish;this.finish=this.physics.add.sprite(a.x,a.y,s.ASSETS_NAMES.FLAG).setScale(.35),this.enemies.push(this.finish),this.platforms=t,this.physics.add.collider(this.enemies,this.platforms),this.physics.add.collider(this.collectables,this.platforms),this.physics.add.collider(this.enemies,this.collectables),this.physics.add.collider(r,r,(function(e){return e.destroy()}))},t.prototype.initPlayerInteractors=function(){var e=this,t=[this.add.text(50,50,"BOiNK!",{fontSize:72,fontStyle:"bold",stroke:"black",strokeThickness:5,fill:"white"}),this.add.text(50,130,"Controls: ⬅[Left]  ➡[Right]  ⬆[Up]  ⬇[Down]",{fontSize:24,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}),this.add.text(50,160,"Press 'Space' to Start ",{fontSize:24,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"})];this.player.body.onWorldBounds=!0,this.physics.world.on("worldbounds",this.handleWorldCollision),this.physics.add.collider(this.player,this.platforms,this.handleGroundCollide),this.physics.add.collider(this.player,this.enemies,this.handleDeath),this.physics.add.overlap(this.player,this.collectables,this.handleCollect),this.cameras.main.startFollow(this.player,!0,1,1),this.cursors.space.addListener("up",(function(){console.log("starting game"),e.gameState.gameStarted=new Date,t.forEach((function(e){return e.destroy()})),e.gameState.timeText=e.add.text(window.innerWidth-100,50,e.getTimeText(),{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),e.gameState.livesText=e.add.text(window.innerWidth-100,20,"❤ 3",{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),e.gameState.scoreText=e.add.text(20,20,e.getScoreText(),{fontSize:20,fontStyle:"bold",stroke:"black",strokeThickness:2,fill:"white"}).setScrollFactor(0),e.sound.play("background_music",{loop:!0,volume:.5}),e.cursors.space.removeListener("up")}))},t.prototype.create=function(){this.cameras.main.setBounds(0,0,this.levelLayout.width,this.scale.height),this.physics.world.setBounds(0,0,this.levelLayout.width,this.scale.height),this.cursors=this.input.keyboard.createCursorKeys(),this.createLevel(),this.createPlayer(),this.initPlayerInteractors()},t.prototype.getTimeText=function(){var e=n.getLevel().time-new Date(new Date-this.gameState.gameStarted).getSeconds();return parseInt(e/60)+":"+e%60},t.prototype.getScoreText=function(){return"Score : "+(this.gameState.currentScore||0)+"/"+this.collectables.length},t.prototype.handleMovement=function(){var e=this.cursors;e.up.isDown&&!this.gameState.playerOnGround&&(this.player.setVelocityY(s.PLAYER.VELOCITY_Y),this.gameState.playerOnGround=1),e.up.isDown&&this.gameState.playerOnGround<2&&this.player.body.velocity.y>0&&(this.player.setVelocityY(s.PLAYER.VELOCITY_Y),this.gameState.playerOnGround=2),e.left.isDown?(this.player.setAccelerationX(-s.PLAYER.ACCELERATION),this.player.setAngularVelocity(-s.PLAYER.ANGULAR_ACC)):e.right.isDown?(this.player.setAccelerationX(s.PLAYER.ACCELERATION),this.player.setAngularVelocity(s.PLAYER.ANGULAR_ACC)):this.gameState.playerOnGround?this.player.setAccelerationX(0):(this.player.setVelocityX(0),this.player.setAccelerationX(0),this.player.setAngularVelocity(0))},t.prototype.update=function(){this.gameState.gameStarted&&(this.handleMovement(),this.gameState.timeText.setText(this.getTimeText()))},t}(Phaser.Scene);t.GameScene=l},1470:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(1471),o=r(1472);t.getLevel=function(){var e=JSON.parse(JSON.stringify(i.default));return o.invertYs(e),e}},1471:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(264),o=i.ASSETS_NAMES.GROUND;t.default={width:5e3,height:768,time:300,minScore:1,playerStart:{x:50,y:250},finish:{x:1900,y:600},platforms:[{x:1200,y:500,key:o.SMALL},{x:900,y:300,key:o.TINY},{x:1200,y:500,key:o.OOH_BOI},{x:1500,y:300,key:o.OOH_BOI}],tiles:[{x:0,x2:1500,y:50,key:o.GROUND},{x:1800,x2:3e3,y:50,key:o.GROUND}],enemies:[{x:300,y:300,key:i.ASSETS_NAMES.SHIBA},{x:1500,y:300,key:i.ASSETS_NAMES.SPIKE}],collectables:[{x:500,y:500,key:i.ASSETS_NAMES.STAR},{x:1300,y:600,key:i.ASSETS_NAMES.STAR}]}},1472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(264);t.getInvertedY=function(e){return i.GAME_HEIGHT-e},t.invertYs=function(e){e.y&&(e.y=t.getInvertedY(e.y)),"object"==typeof e&&Object.values(e).forEach((function(e){return t.invertYs(e)}))}},264:function(e,t,r){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_HEIGHT=600,t.PLAYER={MAX_VELOCITY:500,ANGULAR_ACC:500,ACCELERATION:500,VELOCITY_Y:-800},t.ASSET_WIDTH={TINY:150,SMALL:300,MEDIUM:450,LARGE:600,OOH_BOI:900},t.ASSETS_NAMES={GROUND:{GROUND:"ground",TINY:"ground_tiny",SMALL:"ground_small",MEDIUM:"ground_medium",LARGE:"ground_large",OOH_BOI:"ground_ohh_boi"},PLAYER:"player",SPIKE:"spike",SHIBA:"shiba",STAR:"star",CLOUD:"cloud",FLAG:"flag"},t.ASSET_WIDTH_MAPPING={GROUND:(i={},i[t.ASSETS_NAMES.GROUND.TINY]=t.ASSET_WIDTH.TINY,i[t.ASSETS_NAMES.GROUND.SMALL]=t.ASSET_WIDTH.SMALL,i[t.ASSETS_NAMES.GROUND.MEDIUM]=t.ASSET_WIDTH.MEDIUM,i[t.ASSETS_NAMES.GROUND.LARGE]=t.ASSET_WIDTH.LARGE,i[t.ASSETS_NAMES.GROUND.OOH_BOI]=t.ASSET_WIDTH.OOH_BOI,i)},t.ASSET_SCALE_MAPPING=((o={})[t.ASSETS_NAMES.GROUND.GROUND]=1,o[t.ASSETS_NAMES.GROUND.TINY]=.2,o[t.ASSETS_NAMES.GROUND.SMALL]=.2,o[t.ASSETS_NAMES.GROUND.MEDIUM]=.2,o[t.ASSETS_NAMES.GROUND.LARGE]=.2,o[t.ASSETS_NAMES.GROUND.OOH_BOI]=.2,o[t.ASSETS_NAMES.PLAYER]=.25,o[t.ASSETS_NAMES.SHIBA]=.5,o[t.ASSETS_NAMES.STAR]=.15,o[t.ASSETS_NAMES.SPIKE]=.2,o[t.ASSETS_NAMES.CLOUD]=.3,o[t.ASSETS_NAMES.FLAG]=.5,o)},551:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(265),o=r(1469),s={title:"Sample",type:i.AUTO,scene:o.GameScene,scale:{mode:i.Scale.FIT,parent:"content",autoCenter:i.Scale.CENTER_BOTH,width:window.innerWidth,height:600},physics:{default:"arcade",arcade:{debug:location.href.includes("debug"),gravity:{y:300}}},parent:"game",backgroundColor:"#7dd7fb"};t.game=new i.Game(s)}});